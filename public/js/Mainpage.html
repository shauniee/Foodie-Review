<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Foodie Review</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"></link>
    <link rel="stylesheet" href="css/Mainpage.css">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">

    <script src="https://www.gstatic.com/firebasejs/8.0.2/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.14.2/firebase-auth.js"></script>
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"> -->
    <!-- To get the icons used in dropdown -->
    <script src="https://kit.fontawesome.com/de8abd4bdf.js" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
    <script src="app.js"></script>
    <script src="Mainpage.js"></script>
    <script src="restaurant.js"></script>
    <script src="comments.js"></script>
    <script src="myprofile.js"></script>
    <script src="w3.js"></script>
</head>
<body onload="getRestaurantData()">
  <div class="topnav" id="myTopnav">
    <a class="navbar-brand"><img src="./Images/app_logo2.jpg" width="140px" height="70px"></a>
    <div class="headers">
    <div class="dropdown">
        <button class="dropbtn">Home 
          <i class="fa fa-caret-down"></i>
        </button>
        <div class="dropdown-content">
          <a href="./Mainpage.html">Restaurant</a>
          <a href="./Delivery.html">Delivery</a>
          <a href="http://www.tp.edu.sg" target="_blank">Temasek Polytechnic</a>
        </div>
      </div> 
    <div class="dropdown">
        <button class="dropbtn">Profile 
          <i class="fa fa-caret-down"></i>
        </button>
        <div class="dropdown-content">
          <a href="./My-Profile.html">My Profile</a>
          <a href="./Membership.html">Shop</a>
        </div>
      </div> 
    <div class="dropdown">
        <button class="dropbtn">Contact Us 
          <i class="fa fa-caret-down"></i>
        </button>
        <div class="dropdown-content">
          <a href="./Contact-Us.html">Need Help?</a>
          <a href="https://forms.gle/PDH3bp6HmKHednDC8" target="_blank">Feedback</a>
          <a href="./Partners.html">Our Team & Partners</a>
        </div>
      </div> 
    <a href="./About-Us.html">About Us</a>
    <div class="dropdown">
    <button onclick=logOut() class="dropbtn">Log Out
      </button>
    </div> 
    <div class="search-container">
      <form id="frmSearch" class="search2" method="post" action="search">
        <input class="search2" id="txtSearch" type="text" name="serach_bar" size="31" maxlength="255"       
        value="" style="left: 396px; top: 153px; width: 293px; height: 26px;">
        <input class="search1" type="submit" name="submition" value="Search" style=" padding-bottom:20px; left: 691px; top: 153px; height: 23px" />
        <input class="search2" type="hidden" name="sitesearch" value="search" />
      </form>
    </div>
  </div>
  <a href="javascript:void(0);" style="font-size:15px;" class="icon" onclick="myFunction()">&#9776;</a>
</div>
<script>
    function myFunction() {
      var x = document.getElementById("myTopnav");
      if (x.className === "topnav") {
        x.className += " responsive";
      } else {
        x.className = "topnav";
      }
    }
    </script>
    <script id="sign-out">function logOut(){firebase.auth().signOut();} mainApp.logOut = logOut;</script>


<br>
    <center><h1>Welcome to Foodie Review</h1></center>
    <br><hr>
    <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
      <ol class="carousel-indicators">
        <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
        <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
        <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
        <li data-target="#carouselExampleIndicators" data-slide-to="3"></li>
      </ol>
      <div class="carousel-inner">
        <div class="carousel-item active">
          <img class="d-block w-100" width="1000px" height="700px" src="./Images/slappycakes.jpeg" alt="First slide">
        </div>
        <div class="carousel-item">
          <img class="d-block w-100" width="1000px" height="700px" src="./Images/Blacktap.jpg" alt="Second slide">
        </div>
        <div class="carousel-item">
          <img class="d-block w-100" width="1000px" height="700px" src="./Images/blacktap2.jpg" alt="Third slide">
        </div>
        <div class="carousel-item">
          <img class="d-block w-100" width="1000px" height="700px" src="./Images/shakeshack.jpg" alt="Third slide">
        </div>
      </div>
      <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
    </div>
       <hr>

       <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenu2" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        Filter
      </button>
      <div class="dropdown-menu" aria-labelledby="dropdownMenu2"><hr>
        <button onclick="sortAscending()" class="dropdown-item"  type="button">Sort restaurants in ascending order</button><br>
        <button onclick="sortRatingAscending()" class="dropdown-item"  type="button">Sort restaurant from highest rated to lowest rated</button><br>
        <hr>
        <button onclick="listNorth()" class="dropdown-item"  type="button">North</button><br>
        <button onclick="listSouth()" class="dropdown-item"  type="button">South</button><br>
        <button onclick="listEast()" class="dropdown-item"  type="button">East</button><br>
        <button onclick="listWest()" class="dropdown-item"  type="button">West</button><br>
        <hr>
        <button onclick="listWestern()" class="dropdown-item"  type="button">Western</button><br>
        <button onclick="listThai()" class="dropdown-item"  type="button">Thai</button><br>
        <button onclick="listDessert()" class="dropdown-item"  type="button">Chinese</button><br>
        <button onclick="listPancakes()" class="dropdown-item"  type="button">Dessert</button><br>
    </div>
    <div class="container">
        <!-- The message will be shown when the page loads and will
        disappear after the movies are loaded -->
        <div class="row" id="summary"></div>
            <div class="row" id="parent">
                Retrieving movies from database... Please wait...<br><br>
                If you are seeing this message for a long time, it is likely
                that you have a JavaScript error. Troubleshoot your script by
                using the browser console panel now. Please use either Firefox
                or Chrome to render this webpage.
            </div>
            <br>
            <div class="row" id="restaurantsTable"> </div>
        </div>
        <div w3-include-html="restaurant-modal.html"></div>
        <div w3-include-html="comments-modal.html"></div>
        <div w3-include-html="new-comments-modal.html"></div>
        <div w3-include-html="edit-comments-modal.html"></div>

    <script src='firebase.js'></script>
    <script src='Mainpage.js'></script>
    
<script>
    window.fbAsyncInit = function() {
      FB.init({
        appId      : '{1275681812816796}',
        cookie     : true,
        xfbml      : true,
        version    : '{v9.0}'
      });
        
      FB.getLoginStatus(function(response) {
  statusChangeCallback(response);
});  
        
    };
  
    (function(d, s, id){
       var js, fjs = d.getElementsByTagName(s)[0];
       if (d.getElementById(id)) {return;}
       js = d.createElement(s); js.id = id;
       js.src = "https://connect.facebook.net/en_US/sdk.js";
       fjs.parentNode.insertBefore(js, fjs);
     }(document, 'script', 'facebook-jssdk'))
     function statusChangeCallback(){
         if(response.status === 'connected'){
             console.log('Logged in and authenticated');
         } else{
             console.log('Not authenticated');
         }
     }
     
function checkLoginState() {
  FB.getLoginStatus(function(response) {
    statusChangeCallback(response);
  });
}
  </script>

<fb:login-button 
  scope="public_profile,email"
  onlogin="checkLoginState();">
</fb:login-button>

<br><br>
<!-- to bring in other HTML on the fly into this page -->
<script>w3.includeHTML();</script>
</body>
<br><br><br><br><br><br>
<footer>Copyright &copy; Shaun Temasek Polytechnic</footer>
</html>